# GitHubユーザー検索

GitHubユーザーのプロフィール情報とリポジトリを検索・表示するWebアプリケーションです。

## 機能概要

- **認証不要のユーザー検索**: GitHub API v3を使用（APIキー不要）
- **プロフィール表示**: アバター、名前、bio、統計情報
- **リポジトリ一覧**: 最近更新された10件のリポジトリを表示
- **クリーンなUI**: 不要なアイコンを削除したミニマルデザイン
- **ダークテーマ**: グレー→紫→バイオレットのグラデーション
- **レスポンシブ対応**: デスクトップ、タブレット、スマートフォンに最適化
- **サーバーサイドキャッシング**: 5分間のキャッシュでAPI呼び出しを削減

## 技術スタック

- **フレームワーク**: Next.js 16.0.1 (App Router)
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **API**: GitHub REST API v3 (認証不要)

## セットアップ

### 1. 依存関係のインストール

```bash
cd example1
npm install
```

### 2. 開発サーバーの起動

```bash
npm run dev
```

ブラウザで `http://localhost:3000/github` にアクセスしてください。

## 使い方

1. **ユーザー名を入力**: GitHubユーザー名を入力フィールドに入力 (例: octocat)
2. **検索ボタンをクリック**: 「検索」ボタンをクリックして結果を表示

### 検索例

- `octocat` - GitHubの公式マスコット
- `torvalds` - Linux作成者
- `gaearon` - React開発者

## 表示される情報

### ユーザープロフィール

- **基本情報**
  - アバター画像 (80x80px)
  - 名前とユーザー名
  - Bio（自己紹介）
  - GitHubプロフィールへのリンク

- **統計情報**
  - リポジトリ数
  - フォロワー数
  - フォロー中の数
  - Gists数

- **詳細情報** (設定されている場合)
  - 会社
  - 場所
  - ブログURL
  - Twitter/Xアカウント

### リポジトリ一覧

各リポジトリについて以下の情報を表示：

- リポジトリ名（GitHubへのリンク）
- 説明文
- プログラミング言語
- Star数 (⭐)
- Fork数 (🍴)
- 最終更新日
- トピックタグ
- Fork元の表示（該当する場合）

## APIについて

### GitHub REST API v3

このアプリは [GitHub REST API v3](https://docs.github.com/en/rest) を使用しています。

**特徴:**
- APIキー・認証不要
- パブリック情報のみ取得
- レート制限: 未認証で60リクエスト/時間

**使用エンドポイント:**

1. **ユーザー情報取得**
```
GET https://api.github.com/users/{username}
```

2. **リポジトリ一覧取得**
```
GET https://api.github.com/users/{username}/repos?sort=updated&per_page=10
```

**レスポンス例（ユーザー情報）:**
```json
{
  "login": "octocat",
  "name": "The Octocat",
  "avatar_url": "https://avatars.githubusercontent.com/u/583231",
  "bio": "I build things.",
  "public_repos": 8,
  "followers": 9999,
  "following": 9,
  "location": "San Francisco",
  "company": "@github"
}
```

## ファイル構成

```
example1/
├── src/
│   ├── app/
│   │   ├── github/
│   │   │   └── page.tsx              # GitHubユーザー検索のフロントエンド
│   │   └── api/
│   │       └── github/
│   │           └── route.ts           # GitHub API連携エンドポイント
│   └── types/
│       └── github.ts                  # 型定義（API、ユーザー、リポジトリ）
└── docs/
    └── github-app/
        └── README.md                  # このファイル
```

## 主要コンポーネント

### 1. フロントエンドページ (`src/app/github/page.tsx`)

- **検索フォーム**: ユーザー名入力と検索ボタン
- **プロフィールカード**:
  - 80x80pxのアバター画像
  - 名前、ユーザー名、bio
  - 統計情報（4つのボックス）
  - 詳細情報（2カラムグリッド）
- **リポジトリ一覧**: カード形式で表示
- **エラーハンドリング**: 404エラーやネットワークエラーの表示
- **使い方ガイド**: 初回表示時の操作説明

### 2. APIルート (`src/app/api/github/route.ts`)

**パラメータ:**
- `username`: GitHubユーザー名 (必須)

**処理フロー:**
1. バリデーション（ユーザー名が空でないか）
2. GitHub APIへの並列リクエスト
   - ユーザー情報取得
   - リポジトリ情報取得（最近更新順、10件まで）
3. レスポンスの整形と返却

**エラーハンドリング:**
- 404: ユーザーが見つからない
- 500: その他のAPIエラー

**レスポンス:**
```typescript
{
  success: boolean;
  data?: {
    user: GitHubUser;
    repositories: GitHubRepository[];
  };
  error?: string;
}
```

### 3. 型定義 (`src/types/github.ts`)

- `GitHubUser`: ユーザー情報の型
- `GitHubRepository`: リポジトリ情報の型
- `GitHubApiResponse`: 内部APIのレスポンス型

## パフォーマンス最適化

### 1. サーバーサイドキャッシング

Next.jsの `fetch` APIに `revalidate` オプションを設定：

```typescript
const response = await fetch(apiUrl, {
  headers: {
    Accept: 'application/vnd.github.v3+json',
  },
  next: { revalidate: 300 }, // 5分キャッシュ
});
```

- 同じユーザーへの複数リクエストでAPIコールを削減
- GitHub APIのレート制限対策

### 2. 並列データフェッチング

ユーザー情報とリポジトリ情報を並列取得：

```typescript
const [userResponse, reposResponse] = await Promise.all([
  fetch(userUrl, ...),
  fetch(reposUrl, ...),
]);
```

- 合計レスポンス時間を短縮
- ユーザー体験の向上

## UI/UXの特徴

### デザインシステム

- **カラースキーム**: ダークテーマ（グレー900→紫900→バイオレット900）
- **レイアウト**:
  - プロフィール: 水平レイアウト（デスクトップ）、縦積み（モバイル）
  - 統計情報: 4カラムグリッド（デスクトップ）、2カラム（モバイル）
  - 詳細情報: 2カラムグリッド
- **タイポグラフィ**: 明瞭な階層構造と読みやすいフォントサイズ

### インタラクティブ要素

1. **検索ボタン**
   - グラデーション背景（紫→バイオレット）
   - ホバー時の光沢効果
   - ローディングスピナー
   - 下部アクセントライン

2. **統計情報ボックス**
   - グレー背景と角丸
   - 紫色の大きな数字
   - コンパクトなラベル

3. **リポジトリカード**
   - ホバー時のボーダー色変更
   - シャドウ効果
   - トピックタグ（紫色）

4. **レスポンシブ対応**
   - モバイル: 縦積みレイアウト
   - タブレット: 2カラム
   - デスクトップ: フル機能表示

## エラーハンドリング

### バリデーションエラー

- ユーザー名が入力されていない

### APIエラー

- **404 Not Found**: ユーザーが見つからない
- **500 Server Error**: GitHub APIの呼び出し失敗
- **Network Error**: ネットワーク接続の問題

すべてのエラーは美しいエラー画面で表示されます：
- 赤→ピンクのグラデーション背景
- 明確なエラータイトル
- わかりやすいエラーメッセージ

## トラブルシューティング

### 問題: 「ユーザーが見つかりませんでした」エラーが表示される

**原因:**
- ユーザー名のスペルミス
- 存在しないユーザー名
- ユーザーアカウントが削除された

**解決策:**
1. ユーザー名のスペルを確認
2. GitHub.comで直接検索して存在を確認
3. 別のユーザー名で試す

### 問題: 「GitHub APIの呼び出しに失敗しました」エラーが表示される

**原因:**
- インターネット接続の問題
- GitHub APIのサービス停止
- レート制限超過（60リクエスト/時間）

**解決策:**
1. インターネット接続を確認
2. 数分待ってから再試行
3. ブラウザのキャッシュをクリア (Ctrl+Shift+R)
4. GitHub APIの[ステータスページ](https://www.githubstatus.com/)を確認
5. 1時間待つ（レート制限のリセット）

### 問題: リポジトリが表示されない

**原因:**
- ユーザーがパブリックリポジトリを持っていない
- すべてのリポジトリがプライベート

**解決策:**
- これは正常な動作です
- パブリックリポジトリを持つ別のユーザーで試してください

### 問題: 画像が表示されない

**原因:**
- ブラウザの画像ブロック設定
- GitHubのCDNの問題

**解決策:**
1. ブラウザの設定を確認
2. ページをリフレッシュ
3. 別のブラウザで試す

## レート制限について

GitHub APIは未認証リクエストに対して **60リクエスト/時間** の制限があります。

**制限を避けるには:**
- 同じユーザーを頻繁に検索しない（5分間のキャッシュを活用）
- 必要な時だけ検索する
- 本番環境では認証トークンの使用を検討

## 今後の拡張案

1. **検索履歴**: LocalStorageに検索履歴を保存
2. **お気に入り機能**: よく見るユーザーをブックマーク
3. **詳細フィルター**: リポジトリの言語、Star数でフィルタリング
4. **ソート機能**: Star数、更新日、名前でソート
5. **認証対応**: GitHub OAuthでレート制限を緩和
6. **組織検索**: 個人ユーザーだけでなく組織も検索
7. **コントリビューション表示**: 貢献度グラフの表示
8. **比較機能**: 複数ユーザーの統計を並べて比較
9. **エクスポート機能**: 検索結果をJSON/CSVでエクスポート
10. **リポジトリの詳細**: README、言語統計、貢献者情報

## セキュリティ

- **APIキー不要**: パブリックAPIを使用しているためセキュリティリスクなし
- **入力バリデーション**: サーバー側で厳格な入力検証
- **XSS対策**: Reactの自動エスケープ機能により保護
- **HTTPS**: 本番環境ではHTTPS通信を推奨
- **外部リンク**: `target="_blank"` と `rel="noopener noreferrer"` で安全性確保

## ライセンス

このプロジェクトはトレーニング目的で作成されています。

## 関連リンク

- [GitHub REST API Documentation](https://docs.github.com/en/rest)
- [GitHub API Status](https://www.githubstatus.com/)
- [Next.js Documentation](https://nextjs.org/docs)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
